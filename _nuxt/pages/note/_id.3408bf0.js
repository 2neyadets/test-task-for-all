(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{204:function(t,e,n){var content=n(208);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("58982cd4",content,!0,{sourceMap:!1})},205:function(t,e,n){var content=n(210);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("413995da",content,!0,{sourceMap:!1})},206:function(t,e,n){"use strict";n(130);var o=n(92),r={name:"MyInput",components:{},props:{mockId:{type:String,default:""},value:{type:[String,Object],default:null},label:{type:String,required:!0},clearable:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},maxlength:{type:Number,default:0},hint:{type:String,default:""}},data:function(){return{id:this.mockId||Object(o.a)(),active:!1}},computed:{},watch:{},created:function(){},mounted:function(){this.autofocus&&this.$refs["input"+this.id].focus()},updated:function(){},methods:{}},c=(n(207),n(10)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"field row no-wrap items-start",class:{"field--focused":t.active,"field--float":t.active||t.value},attrs:{for:t.id}},[n("div",{staticClass:"field__inner relative-position col self-stretch column justify-center"},[n("div",{staticClass:"field__control relative-position row no-wrap",attrs:{tabindex:"-1"}},[n("div",{staticClass:"field__control-container col relative-position row no-wrap"},[n("input",{ref:"input"+t.id,staticClass:"field__native",attrs:{id:t.id,type:"text",tabindex:"0",maxlength:t.maxlength},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},focus:function(e){t.active=!0},blur:function(e){t.active=!1}}}),n("div",{staticClass:"field__label no-pointer-events absolute"},[t._v(t._s(t.label))])]),t.clearable&&t.value?[n("div",{staticClass:"pl-xs row no-wrap items-center",staticStyle:{"font-size":"24px"}},[n("button",{staticClass:"field__focusable-action material-icons notranslate material-icons",attrs:{"aria-hidden":"true",role:"presentation",tabindex:"0",type:"button"},on:{click:function(e){return t.$emit("input",null)},focus:function(e){t.active=!0}}},[t._v("close")])])]:t._e()],2),t.maxlength||t.hint?[n("div",{staticClass:"field__bottom row items-start",class:t.hint?"justify-between":"justify-end"},[t.hint?n("div",{staticClass:"field__messages col"},[t._v(t._s(t.hint))]):t._e(),t.maxlength?n("div",{staticClass:"field__counter"},[t._v(t._s(t.value?t.value.length:0)+" / "+t._s(t.maxlength))]):t._e()])]:t._e()],2)])}),[],!1,null,"38216cd5",null);e.a=component.exports},207:function(t,e,n){"use strict";var o=n(204);n.n(o).a},208:function(t,e,n){(e=n(42)(!1)).push([t.i,'.field__native[data-v-38216cd5]{line-height:24px;color:#fff;width:100%;min-width:0;outline:0!important;font-weight:400;letter-spacing:.00937em;text-decoration:inherit;text-transform:inherit;border:none;border-radius:0;background:none;padding:14px 0 2px}.field__inner[data-v-38216cd5]{text-align:left}.field--focused .field__control[data-v-38216cd5]:after{border-color:currentColor;border-width:2px;transform:scaleX(1)}.field__control[data-v-38216cd5]{border-radius:0!important;height:40px;padding:0 12px;color:var(--color-primary);max-width:100%;outline:none}.field__control[data-v-38216cd5]:before{border:1px solid hsla(0,0%,100%,.6);transition:border-color .36s cubic-bezier(.4,0,.2,1)}.field__control[data-v-38216cd5]:hover:before{border-color:#fff}.field__control[data-v-38216cd5]:after{height:inherit;border-radius:inherit;border:2px solid transparent;transition:border-color .36s cubic-bezier(.4,0,.2,1)}.field__control[data-v-38216cd5]:after,.field__control[data-v-38216cd5]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.field .field__focusable-action[data-v-38216cd5],.field:not(.field--focused) .field__label[data-v-38216cd5]{color:hsla(0,0%,100%,.7)}.field__label[data-v-38216cd5]{font-size:14px;left:0;right:0;top:10px;color:rgba(0,0,0,.6);line-height:20px;font-weight:400;letter-spacing:.01em;text-decoration:inherit;text-transform:inherit;transform-origin:left top;transition:transform .36s cubic-bezier(.4,0,.2,1),right .324s cubic-bezier(.4,0,.2,1)}.field--float .field__label[data-v-38216cd5]{transform:translateY(-30%) scale(.75);right:-33.33333%}.field--focused .field__label[data-v-38216cd5]{color:currentColor}.field__focusable-action[data-v-38216cd5]{opacity:.6;cursor:pointer;outline:0!important;border:0;color:inherit;background:transparent;padding:0}.field__bottom[data-v-38216cd5]{font-size:12px;min-height:12px;line-height:1;padding:6px 8px;transform:translateY(100%);position:absolute;left:0;right:0;bottom:0}.field__messages[data-v-38216cd5]{line-height:1}.field__counter[data-v-38216cd5]{padding-left:8px;line-height:1}',""]),t.exports=e},209:function(t,e,n){"use strict";var o=n(205);n.n(o).a},210:function(t,e,n){(e=n(42)(!1)).push([t.i,'.checkbox[data-v-1796255a]{vertical-align:middle}.checkbox__bg[data-v-1796255a]{top:25%;left:25%;width:50%;height:50%;border:2px solid;border-radius:2px;transition:background .22s cubic-bezier(0,0,.2,1) 0ms}.checkbox__native[data-v-1796255a]{width:1px;height:1px}.checkbox__svg[data-v-1796255a]{color:#fff}.checkbox__truthy[data-v-1796255a]{stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.78334;stroke-dasharray:29.78334}.checkbox__indet[data-v-1796255a]{fill:currentColor;transform-origin:50% 50%;transform:rotate(-280deg) scale(0)}.checkbox__inner[data-v-1796255a]{font-size:40px;width:1em;min-width:1em;height:1em;outline:0;border-radius:50%;color:rgba(0,0,0,.54)}.checkbox__inner--indet[data-v-1796255a],.checkbox__inner--truthy[data-v-1796255a]{color:$primary;color:var(--color-primary)}.checkbox__inner--indet .checkbox__bg[data-v-1796255a],.checkbox__inner--truthy .checkbox__bg[data-v-1796255a]{background:currentColor}.checkbox__inner--truthy path[data-v-1796255a]{stroke-dashoffset:0;transition:stroke-dashoffset .18s cubic-bezier(.4,0,.6,1) 0ms}.checkbox__inner--indet .checkbox__indet[data-v-1796255a]{transform:rotate(0) scale(1);transition:transform .22s cubic-bezier(0,0,.2,1) 0ms}.checkbox.disabled[data-v-1796255a]{opacity:.75!important}.checkbox--dark .checkbox__inner[data-v-1796255a]{color:hsla(0,0%,100%,.7)}.checkbox--dark .checkbox__inner[data-v-1796255a]:before{opacity:.32!important}.checkbox--dark .checkbox__inner--indet[data-v-1796255a],.checkbox--dark .checkbox__inner--truthy[data-v-1796255a]{color:$primary;color:var(--color-primary)}.checkbox__indet[data-v-1796255a]{opacity:0}.checkbox__inner--indet .checkbox__indet[data-v-1796255a]{opacity:1}.checkbox:not(.disabled) .checkbox__inner[data-v-1796255a]:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%;background:currentColor;opacity:.12;transform:scale3d(0,0,1);transition:transform .22s cubic-bezier(0,0,.2,1)}.checkbox:not(.disabled):focus .checkbox__inner[data-v-1796255a]:before,.checkbox:not(.disabled):hover .checkbox__inner[data-v-1796255a]:before{transform:scaleX(1)}',""]),t.exports=e},211:function(t,e,n){var content=n(220);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(43).default)("5339ebb8",content,!0,{sourceMap:!1})},217:function(t,e,n){"use strict";n(130);var o=n(92),r={name:"MyCheckbox",components:{MyInput:n(206).a},props:{mockId:{type:String,default:""},task:{type:Object,required:!0},label:{type:String,required:!0},editable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},size:{type:[String,Number],default:"32"}},data:function(){return{id:this.mockId||Object(o.a)()}},computed:{},watch:{},created:function(){},mounted:function(){},updated:function(){},methods:{changeDoneState:function(){this.$emit("inputDone",!this.task.done),this.$refs["input"+this.id].blur()}}},c=(n(209),n(10)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-checkbox flex flex-center"},[n("div",{ref:"input"+t.id,staticClass:"checkbox cursor-pointer no-outline row inline no-wrap items-center checkbox--dark",class:{disabled:t.disable},attrs:{id:t.id,tabindex:"0",role:"checkbox","aria-checked":t.task.done},on:{click:t.changeDoneState}},[n("div",{staticClass:"checkbox__inner relative-position no-pointer-events",class:"checkbox__inner"+(t.task.done?"--truthy":"--falsy"),style:"font-size: "+t.size+"px;"},[n("input",{staticClass:"hidden checkbox__native absolute ma-none pa-none invisible",attrs:{type:"checkbox"}}),n("div",{staticClass:"checkbox__bg absolute"},[n("svg",{staticClass:"checkbox__svg fit absolute-full",attrs:{focusable:"false",viewBox:"0 0 24 24"}},[n("path",{staticClass:"checkbox__truthy",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}}),n("path",{staticClass:"checkbox__indet",attrs:{d:"M4,14H20V10H4"}})])])]),n("span",{staticClass:"no-outline",attrs:{tabindex:"-1"}})]),t.editable?[n("MyInput",{staticClass:"ml-sm",staticStyle:{"min-width":"215px"},attrs:{value:t.task.text,label:t.label,maxlength:20,clearable:t.clearable},on:{input:function(e){return t.$emit("inputText",e)}}})]:[n("label",{style:t.label&&t.label.length>15?"font-size: 11px;":"",attrs:{for:t.id}},[t._v(t._s(t.label))])]],2)}),[],!1,null,"1796255a",null);e.a=component.exports},218:function(t,e,n){"use strict";var o=n(5),r=n(132)(5),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),o(o.P+o.F*c,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(75)("find")},219:function(t,e,n){"use strict";var o=n(211);n.n(o).a},220:function(t,e,n){(e=n(42)(!1)).push([t.i,".edit-note-form__editable[data-v-6027a5c8]{border:1px solid #fff;padding:8px}.edit-note-form__actions--normal[data-v-6027a5c8]{border:1px solid green;padding:8px;margin-top:8px}.edit-note-form__actions--danger[data-v-6027a5c8]{border:1px solid red;padding:8px;margin-top:8px}",""]),t.exports=e},232:function(t,e,n){"use strict";n.r(e);n(44),n(16),n(17),n(7),n(33),n(218);var o=n(15),r=n(20),c=(n(131),n(206)),l=n(56),d=n(217),f=n(92);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={name:"EditNoteForm",components:{MyCheckbox:d.a,MyBtn:l.a,MyInput:c.a},props:{currentNote:{type:Object,required:!0}},data:function(){return{lastNote:null,note:null,isAllow:{undo:!1,redo:!1}}},computed:{isNoteChanged:function(){return JSON.stringify(this.note)!==JSON.stringify(this.currentNote)},isNoteHaveEmptyTextFields:function(){return!this.note.title||this.note.tasks&&this.note.tasks.some((function(t){return!t.text}))},isDisableCreateNewTask:function(){return this.note.tasks&&this.note.tasks.length>=5}},watch:{currentNote:function(t){this.initNotes()}},created:function(){this.initNotes()},mounted:function(){},updated:function(){},methods:{initNotes:function(){this.lastNote=JSON.parse(JSON.stringify(this.currentNote)),this.note=JSON.parse(JSON.stringify(this.currentNote))},allowUndoAndWriteLastNote:function(){this.isAllow.undo=!0,this.isAllow.redo=!1,this.lastNote=JSON.parse(JSON.stringify(this.note))},swapNotes:function(){var t=JSON.parse(JSON.stringify(this.note));this.note=JSON.parse(JSON.stringify(this.lastNote)),this.lastNote=t},handleChange:function(t,e,n){this.allowUndoAndWriteLastNote(),t[e]=n},addTask:function(){this.note.tasks||(this.note=v(v({},this.note),{},{tasks:[]})),this.isDisableCreateNewTask||this.note.tasks.push({id:Object(f.a)(),done:!1,text:null})},deleteTask:function(t){this.allowUndoAndWriteLastNote(),this.note.tasks.splice(this.note.tasks.findIndex((function(e){return e.id===t})),1)},undoLastChange:function(){this.swapNotes(),this.isAllow.undo=!1,this.isAllow.redo=!0},redoLastChange:function(){this.swapNotes(),this.isAllow.undo=!0,this.isAllow.redo=!1},openCancelEditNoteDialog:function(){this.$store.dispatch("changeDialogState","cancelEditNote")},openDeleteDialog:function(){this.$store.dispatch("changeDialogState","deleteNote")},saveNote:function(){if(!this.isNoteChanged||this.isNoteHaveEmptyTextFields)return!1;this.$store.dispatch("notes/updateNoteAction",JSON.parse(JSON.stringify(this.note)))}}},m=(n(219),n(10)),x=Object(m.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.note?n("form",{staticClass:"edit-note-form",on:{submit:function(e){return e.preventDefault(),t.saveNote(e)}}},[n("div",{staticClass:"edit-note-form__editable"},[n("MyInput",{staticClass:"pb-lg",attrs:{value:t.note.title,label:"Название заметки",maxlength:20,clearable:""},on:{input:function(e){return t.handleChange(t.note,"title",e)}}}),t._l(t.note.tasks,(function(e,o){return[n("div",{staticClass:"task row flex-center"},[n("MyCheckbox",{key:e.id+o,staticClass:"mb-lg",attrs:{task:e,label:"Текст задачи",editable:"",clearable:""},on:{inputDone:function(n){return t.handleChange(e,"done",n)},inputText:function(n){return t.handleChange(e,"text",n)}}}),n("MyBtn",{staticClass:"task__delete-btn ml-sm mb-lg",attrs:{icon:"delete",size:"26"},nativeOn:{click:function(n){return t.deleteTask(e.id)}}})],1)]})),t.isDisableCreateNewTask?n("div",{staticClass:"flex flex-center"},[n("p",[t._v("Максимальное количество задач для одной заметки - 5")])]):t._e(),n("div",{staticClass:"flex flex-center"},[n("MyBtn",{staticClass:"add-task-btn",attrs:{label:"Добавить задачу",icon:"add",disable:t.isDisableCreateNewTask,autofocus:""},nativeOn:{click:function(e){return t.addTask(e)}}})],1)],2),n("div",{staticClass:"edit-note-form__actions"},[n("div",{staticClass:"edit-note-form__actions--normal"},[n("div",{staticClass:"flex flex-center"},[n("MyBtn",{staticClass:"save-changes-btn",attrs:{type:"submit",label:"Сохранить изменения",icon:"save",disable:!t.isNoteChanged||t.isNoteHaveEmptyTextFields}})],1),n("div",{staticClass:"flex flex-center pt-md"},[n("MyBtn",{staticClass:"undo-btn",attrs:{label:"Отменить внесенное изменение",icon:"clear",disable:!t.isAllow.undo},nativeOn:{click:function(e){return t.undoLastChange(e)}}})],1),n("div",{staticClass:"flex flex-center pt-md"},[n("MyBtn",{staticClass:"redo-btn",attrs:{label:"Вернуть отменённое изменение",icon:"repeat",disable:!t.isAllow.redo},nativeOn:{click:function(e){return t.redoLastChange(e)}}})],1)]),n("div",{staticClass:"edit-note-form__actions--danger"},[n("div",{staticClass:"flex flex-center"},[n("MyBtn",{staticClass:"cancel-edit-btn",attrs:{label:"Отменить редактирование",icon:"cancel"},nativeOn:{click:function(e){return t.openCancelEditNoteDialog(e)}}})],1),n("div",{staticClass:"flex flex-center pt-md"},[n("MyBtn",{staticClass:"delete-note-btn",attrs:{label:"Удалить заметку",icon:"delete"},nativeOn:{click:function(e){return t.openDeleteDialog(e)}}})],1)])])]):t._e()}),[],!1,null,"6027a5c8",null).exports,y=n(93);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={name:"CancelEditNoteDialog",components:{MyBtn:l.a,Dialog:y.a},props:{},data:function(){return{}},computed:O(O(O({},Object(r.b)(["cancelEditNoteDialog"])),Object(r.b)("notes",["currentNote"])),{},{title:function(){return"Вы уверены, что хотите <span style='color: red;'>отменить редактирование</span> заметки с названием <strong>\"".concat(this.currentNote&&this.currentNote.title,'"</strong>?')}}),watch:{},created:function(){},mounted:function(){},updated:function(){},methods:{changeDialogState:function(){this.$store.dispatch("changeDialogState","cancelEditNote")},cancelEditNote:function(){this.changeDialogState(),this.$router.push("/")}}};function N(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var w={name:"EditNotePage",components:{CancelEditNoteDialog:Object(m.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{value:t.cancelEditNoteDialog},on:{hide:t.changeDialogState},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.changeDialogState(e)}}},[n("div",{staticClass:"delete-note-confirm"},[n("h6",{staticClass:"mt-none mb-md",staticStyle:{"text-align":"justify"},domProps:{innerHTML:t._s(t.title)}}),n("div",{staticClass:"flex justify-end"},[n("MyBtn",{attrs:{label:"Нет, редактировать",size:"16",flat:"",autofocus:""},nativeOn:{click:function(e){return t.changeDialogState(e)}}}),n("MyBtn",{staticClass:"ml-sm",attrs:{label:"Да, отменить",size:"16"},nativeOn:{click:function(e){return t.cancelEditNote(e)}}})],1)])])}),[],!1,null,null,null).exports,MyBtn:l.a,EditNoteForm:x},data:function(){return{}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)("notes",["notesArr","currentNote"])),watch:{notesArr:function(t){this.setCurrentNote()}},created:function(){},mounted:function(){this.setCurrentNote()},updated:function(){},methods:{setCurrentNote:function(){var t=this,e=this.notesArr.find((function(e){return e.id===t.$route.params.id}));e&&this.$store.dispatch("notes/changeCurrentNote",e)}}},j=Object(m.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"full-height row justify-center pa-sm",class:this.currentNote?"items-start":"items-center"},[this.currentNote?[e("EditNoteForm",{attrs:{currentNote:this.currentNote}})]:[e("div",{staticClass:"col-12"},[e("div",{staticClass:"flex flex-center"},[e("div",[this._v('Заметки с ID "'+this._s(this.$route.params.id)+'" не найдено')])]),e("div",{staticClass:"px-md py-sm flex flex-center"},[e("nuxt-link",{attrs:{to:"/"}},[e("MyBtn",{attrs:{label:"На главную"}})],1)],1)])],e("CancelEditNoteDialog")],2)}),[],!1,null,"69212f6c",null);e.default=j.exports}}]);